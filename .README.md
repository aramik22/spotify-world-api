# SPOTIFY-WORLD-API

### REQUERIMIENTOS

* PHP y dependencias
    * php-7.4
    * php7.4-sqlite3
    * Iluminate Database
    * Phinx

* Configuración de Apache
    *  AllowOverride All
    * a2enmod rewrite

# NOTAS

Descripción: La Api fue desarrollada en Slim3, utilizando Iluminate y Phinx para gestionar la base de datos.
En la carpeta Test se pueden encontrar los test unitarios, en logs el Log de la api que se genera usando Monolog.
La base de datos es spotify_development_db.sqlite3.
La carpeta Migrations contiene los datos de la misma.
El archivo config.conf tiene parametros necesarios para las búsquedas.
Los datos de autenticación se encuentran en la base de datos.
La api se autentica antes de realizar las búsquedas para obtener siempre el access token.
En la tabla oauth_data es necesario setear client_id y client_secret.
El archivo Phinx.php se configura con datos de la database.
Hay 2 testeos de los endpoint de Spotify, el de obtener el access token y el de obtener los resultados de los artistass
Para correr los test se utiliza el comando: 
### `./vendor/bin/phpunit --stderr --debug src/test/`

## API

RESPUESTAS DE LA API

| Data               | Operation       | Status Code


| Resultados en Json | Ej: Successfull | Ej: 200 


#### GET `http://localhost/spotify-world-api/v1/albums?q=cerati`



```

Respuesta:

{
"data": [
{
"name": "Certified Lover Boy",
"released": "2021-09-03",
"tracks": 21,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b273cd945b4e3de57edd28481a3f"
}
},
{
"name": "Ah\u00ed Vamos",
"released": "2006-04-04",
"tracks": 13,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b273d543f7c7de880da5370922c0"
}
},
{
"name": "Bocanada",
"released": "1999-06-01",
"tracks": 15,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2731152471596980e1bba03b6ab"
}
},
{
"name": "Certified Hitmaker",
"released": "2020-02-06",
"tracks": 15,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2730824105a6282782aaabb0584"
}
},
{
"name": "Fuerza Natural",
"released": "2009-03-12",
"tracks": 14,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b27314653b83cd7d851accdb5142"
}
},
{
"name": "Siempre Es Hoy",
"released": "2002-11-11",
"tracks": 17,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b27392441ecd34874c2bc4f19144"
}
},
{
"name": "Amor Amarillo",
"released": "1993-11-01",
"tracks": 11,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b27379b9b65561857c72bf2863ef"
}
},
{
"name": "11 Episodios Sinf\u00f3nicos",
"released": "2001-08-04",
"tracks": 11,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2730801676fd0dd82d4763612bd"
}
},
{
"name": "Cerati en Versiones",
"released": "2016-08-29",
"tracks": 10,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2733efa22d5b967a370ae11ef9f"
}
},
{
"name": "Colores Santos",
"released": "1992",
"tracks": 11,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b273b93e251a8388651b81497e24"
}
},
{
"name": "Fuerza Natural Tour, en vivo en Monterrey, MX, 2009",
"released": "2019-11-20",
"tracks": 25,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b27340aa5bbe0547aaf1b2f6bc99"
}
},
{
"name": "Canciones Elegidas 93-04",
"released": "2005-01-24",
"tracks": 18,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b273f428c483e97af7de1800899b"
}
},
{
"name": "Cerati",
"released": "2020-03-24",
"tracks": 1,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2736560a41b7197cd753c8cfb28"
}
},
{
"name": "Tr\u00e1eme la Noche (Bring on the Night) (with Andy Summers)",
"released": "1998",
"tracks": 1,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2731194a4535d5b41959177bcdd"
}
},
{
"name": "Cerati",
"released": "2020-09-22",
"tracks": 1,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2730d5270afb72b89c738d09183"
}
},
{
"name": "Infinito",
"released": "2015-06-02",
"tracks": 19,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b27391b66cecd8ee1ea40cb17a54"
}
},
{
"name": "+ Bien",
"released": "2001-11-06",
"tracks": 11,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b273557caa7cd77613d8a63bff39"
}
},
{
"name": "Siempre Es Hoy\/Reversiones",
"released": "2003-08-10",
"tracks": 20,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b27385988072e99bc2c16c16f190"
}
},
{
"name": "Cactus (En Vivo en Monterrey)",
"released": "2019-10-18",
"tracks": 1,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b273f19eb223fc926cdd9b226aed"
}
},
{
"name": "Babies Go Cerati",
"released": "2017-05-31",
"tracks": 14,
"cover": {
"height": 640,
"width": 640,
"url": "https:\/\/i.scdn.co\/image\/ab67616d0000b2738aeb8c54c0b708d76bad3b3f"
}
}
],
"operation": "successful",
"status_code": 200
}......